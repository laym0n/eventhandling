# EventHandling (Outbox/Inbox)

## Requirements
- Сохранение события для обработки **MUST**
    - Возможность с каждым событием сохранять кастомную полезную нагрузку для обработки события (Payload) **MUST**
    - Наличие у каждого события названия **MUST**
    - API для сохранения события **MUST**
- Обработка сохраненных событий **MUST**
    - API для реализации обработчиков событий по названиям событий **MUST**
    - Гарантия at least once обработки события **MUST**
    - Конфигурация количества ретраев на случай неуспеха обработки событий **SHOULD**
    - Конфигурация количества ретраев на случай неуспеха обработки отдельных событий по их названиям **WON'T**
    - Сохранение неудачно обработанных событий для последующих разборов **SHOULD**
    - Мониторинг необработанных событий (логирование, Тенгри и Рефлекс) **SHOULD**
    - Partial order (Последовательность обработки событий в рамках одного groupId, например идентифкатор заявки) **COULD**
    - Обработка по приоритетам, а не по FIFO **WON'T**
    - Конфигурация обработки событий в несколько потоков **SHOULD**
    - Гарантированность нестухания в очереди (сообщение, добавленное в очередь успеет начать обрабатываться до того как наступит expired_at) **SHOULD**
- Очистка обработанных сообщений **MUST**
- Очистка старых необработанных сообщений **SHOULD**

### MoSCoW

- MUST - требования обязательные для успеха
- SHOULD - важные, но необязательные требования
- COULD - требования, которые оказывают минимальное влияение и неплохо было бы их реализовать в последнюю очередь 
- WON'T - требования, которые не признаны приоритетными и не будут реализованы в ближайший релиз